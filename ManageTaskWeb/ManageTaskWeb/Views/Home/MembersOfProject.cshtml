@{
    ViewBag.Title = "MembersOfProject";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
@model List<ManageTaskWeb.Models.Member>

<link href="@Url.Content("~/Content/css/membersofproject.css?v=1")" rel="stylesheet" />

<div class="memberofproject-breadcrumb">
    <a href="#">Home</a>
    <span>></span>
    <a href="#">Project</a>
    <span>></span>
    <a href="#">Members of Project</a>
</div>

<div class="memberofproject-content">
    <div class="memberofproject-project-section">
        <div class="memberofproject-project-info">
            <h1>Project For HUIT University</h1>
            <div class="project-description">
                <p>Mô tả dự án cho: Câu hỏi thực tập sinh</p>
                <p>- Thiết kế câu hỏi cho thực tập sinh</p>
                <p>- Thực tập sinh: Xem câu hỏi, đưa câu hỏi, xem câu trả lời, xóa câu hỏi, hiển thị danh sách câu hỏi trả lời</p>
                <p>- Admin: Đăng nhập, xem câu hỏi, thêm câu trả lời, xóa câu trả lời, hiển thị danh sách câu hỏi trả lời</p>
            </div>
        </div>

        <div class="memberofproject-owner-status">
            <div class="memberofproject-owner-info">
                <img src="/api/placeholder/50/50" alt="Owner" />
                <div class="memberofproject-owner-details">
                    <div class="name">Phạm Nguyên Vũ (Owner)</div>
                    <div class="date">Create at: 11/10/2024</div>
                </div>
            </div>
            <div class="memberofproject-status-section">
                <div class="memberofproject-status-label">Status</div>
                <button class="memberofproject-status-button">DONE</button>
            </div>
        </div>
    </div>

    <div class="memberofproject-toolbar">
        <!-- Nút thêm thành viên -->
        <button class="memberofproject-add-member-btn" id="addmember">
            <span>+</span> Thêm Thành Viên Mới
        </button>

        <!-- Thanh tìm kiếm nằm giữa -->
        <div class="memberofproject-search-bar">
            <input type="text" placeholder="Tìm kiếm theo mã hoặc tên" />
            <i class="fas fa-search"></i>
        </div>
        <style>
            /* Button chứa văn bản và chấm đỏ */
            .request-icon-wrapper {
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center; /* Văn bản nằm giữa */
                background-color: #f9f9f9;
                border: 1px solid #ccc;
                border-radius: 5px;
                padding: 10px 15px;
                cursor: pointer;
                transition: background-color 0.3s ease, border-color 0.3s ease;
                gap: 10px; /* Khoảng cách giữa các phần tử */
            }

                /* Văn bản trong nút */
                .request-icon-wrapper .button-text {
                    font-size: 14px;
                    font-weight: 500;
                    color: #333;
                }

                /* Chấm đỏ nằm bên phải */
                .request-icon-wrapper .notification-dot {
                    position: absolute;
                    top: 50%; /* Căn giữa theo chiều dọc */
                    right: 10px; /* Cách mép phải 10px */
                    transform: translateY(-50%); /* Đảm bảo căn giữa hoàn hảo */
                    width: 10px;
                    height: 10px;
                    background-color: red;
                    border-radius: 50%;
                    border: 2px solid white; /* Viền trắng bao quanh chấm đỏ */
                }

                /* Hiệu ứng hover */
                .request-icon-wrapper:hover {
                    background-color: #e6e6e6;
                    border-color: #999;
                }
        </style>
        <!-- Biểu tượng giống hình ảnh -->
        <button class="request-icon-wrapper" id="request-button">
            <span class="button-text">Request</span> &nbsp;
            <span class="notification-dot"></span>
        </button>
    </div>

    <div class="memberofproject-members-container">
        <div class="memberofproject-member-list">
            <table>
                <thead>
                    <tr>
                        <th>Staff</th>
                        <th>Create at</th>
                        <th>Status</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var member in Model)
                    {
                        <tr>
                            <td>
                                <div class="memberofproject-member-info">
                                    <img src="~/Content/images/member-img/@member.ImageMember" alt="Staff" />
                                    <span>@member.FullName</span>
                                </div>
                            </td>
                            <td>@(member.HireDate.HasValue ? member.HireDate.Value.ToString("dd/MM/yyyy") : "No date available")</td>
                            <td><span class="memberofproject-status-badge status-active">@member.Status</span></td>
                            <td><button class="memberofproject-view-btn">View</button></td>
                        </tr>
                    }
                    <!-- More rows as necessary -->
                </tbody>
            </table>
        </div>

        <div class="memberofproject-member-details">
            <img src="/api/placeholder/60/60" alt="Selected member" />
            <div class="memberofproject-detail-row">
                <span class="memberofproject-detail-label">Username:</span>
                <span>Phạm Nguyên Vũ</span>
            </div>
            <div class="memberofproject-detail-row">
                <span class="memberofproject-detail-label">Email:</span>
                <span>pnv287@gmail.com</span>
            </div>
            <div class="memberofproject-detail-row">
                <span class="memberofproject-detail-label">Phone:</span>
                <span>0123456789</span>
            </div>
            <div class="memberofproject-detail-row">
                <span class="memberofproject-detail-label">Role:</span>
                <span>Staff</span>
            </div>
            <div class="memberofproject-detail-row">
                <span class="memberofproject-detail-label">Status:</span>
                <span>Normal</span>
            </div>
            <div class="memberofproject-action-buttons">
                <button class="memberofproject-action-btn memberofproject-btn-view">View detail</button>
                <button class="memberofproject-action-btn memberofproject-btn-edit">Edit</button>
                <button class="memberofproject-action-btn memberofproject-btn-delete">Delete</button>
            </div>
        </div>
    </div>
</div>
<<div class="overlay-2" id="overlay-2">
    <div class="container-blind-2">
        <h2>Request <span class="icon">📄</span></h2>
        <div class="close-button">✕</div>
        <ul class="request-list">
            <li>
                <div class="avatar avatar-green"></div>
                <div class="info">
                    <p>Nguyễn Nhật Quân</p>
                    <span class="role">Developer</span>
                </div>
                <button class="accept-button">✔ Accept</button>
                <button class="reject-button">✖ Reject</button>
            </li>
            <li>
                <div class="avatar avatar-orange"></div>
                <div class="info">
                    <p>Huỳnh Bảo Ngọc</p>
                    <span class="role">Developer</span>
                </div>
                <button class="accept-button">✔ Accept</button>
                <button class="reject-button">✖ Reject</button>
            </li>
            <li>
                <div class="avatar avatar-blue"></div>
                <div class="info">
                    <p>Trần Phương Uyên</p>
                    <span class="role">Tester</span>
                </div>
                <button class="accept-button">✔ Accept</button>
                <button class="reject-button">✖ Reject</button>
            </li>
            <li>
                <div class="avatar avatar-yellow"></div>
                <div class="info">
                    <p>Đỗ Lan Hương</p>
                    <span class="role">Developer</span>
                </div>
                <button class="accept-button">✔ Accept</button>
                <button class="reject-button">✖ Reject</button>
            </li>
        </ul>
        <div class="pagination">
            <button>◀</button>
            <button>1</button>
            <button>2</button>
            <button class="active">3</button>
            <button>4</button>
            <button>5</button>
            <button>▶</button>
        </div>
    </div>
</div>
<div class="overlay" id="overlay">
    <div class="blind-container-1">
        <h2>Add Members To Project</h2>
        <div class="close-button">✕</div>
        <div class="member-section">
            <!-- Members List -->
            <div class="panel">
                <h3>Members</h3>
                <div class="search-bar">
                    <input type="text" placeholder="Search Name Members...">
                    <button>🔍</button>
                    <div class="toggle-switch">
                        <input type="checkbox" id="toggle-members">
                        <label for="toggle-members"></label>
                    </div>
                </div>
                <ul class="member-list">
                    <li>
                        <div class="avatar avatar-green"></div>
                        <div class="info">
                            <p>Nguyễn Nhật Quân</p>
                            <span class="role">Developer</span>
                        </div>
                        <button class="add-button">➕</button>
                    </li>
                    <li>
                        <div class="avatar avatar-orange"></div>
                        <div class="info">
                            <p>Huỳnh Bảo Ngọc</p>
                            <span class="role">Developer</span>
                        </div>
                        <button class="add-button">➕</button>
                    </li>
                    <li>
                        <div class="avatar avatar-blue"></div>
                        <div class="info">
                            <p>Trần Phương Uyên</p>
                            <span class="role">Tester</span>
                        </div>
                        <button class="add-button">➕</button>
                    </li>
                    <li>
                        <div class="avatar avatar-yellow"></div>
                        <div class="info">
                            <p>Đỗ Lan Hương</p>
                            <span class="role">Developer</span>
                        </div>
                        <button class="add-button">➕</button>
                    </li>
                </ul>
                <div class="pagination">
                    <button>◀</button>
                    <button class="active">1</button>
                    <button>2</button>
                    <button>3</button>
                    <button>▶</button>
                </div>
            </div>

            <!-- Members In Project -->
            <div class="panel">
                <h3>Members In Project</h3>
                <div class="search-bar">
                    <input type="text" placeholder="Search Name Members...">
                    <button>🔍</button>
                    <div class="toggle-switch">
                        <input type="checkbox" id="toggle-project-members">
                        <label for="toggle-project-members"></label>
                    </div>
                </div>
                <ul class="member-list">
                    <li>
                        <div class="avatar avatar-yellow"></div>
                        <div class="info">
                            <p>Phạm Nguyên Vũ</p>
                            <span class="role project-manager">Project Manager</span>
                        </div>
                    </li>
                    <li>
                        <div class="avatar avatar-orange"></div>
                        <div class="info">
                            <p>Trương Minh Trang</p>
                            <span class="role">Developer</span>
                        </div>
                    </li>
                    <li>
                        <div class="avatar avatar-blue"></div>
                        <div class="info">
                            <p>Trần Phương Lan</p>
                            <span class="role">Tester</span>
                        </div>
                    </li>
                </ul>
                <div class="pagination">
                    <button>◀</button>
                    <button class="active">1</button>
                    <button>2</button>
                    <button>3</button>
                    <button>▶</button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .overlay-2 {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999;
        visibility: hidden;
    }

    .container-blind-2 {
        width: 600px;
        background: #ffffff;
        padding: 20px;
        border-radius: 8px;
        position: relative;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    h2 {
        text-align: center;
        color: #2d5c89;
        margin-bottom: 20px;
    }

    .icon {
        font-size: 24px;
        vertical-align: middle;
    }

    .close-button {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 20px;
        cursor: pointer;
        color: #666;
    }

    .request-list {
        list-style: none;
        margin-bottom: 20px;
    }

        .request-list li {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

    .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .avatar-green {
        background-color: #9bc47d;
    }

    .avatar-orange {
        background-color: #f5a623;
    }

    .avatar-blue {
        background-color: #4a90e2;
    }

    .avatar-yellow {
        background-color: #ffd700;
    }

    .info {
        flex: 1;
    }

        .info p {
            font-weight: bold;
            color: #333;
        }

    .role {
        font-size: 0.9em;
        color: #4a90e2;
    }

    .accept-button,
    .reject-button {
        padding: 8px 12px;
        border: none;
        border-radius: 5px;
        font-size: 0.9em;
        color: #fff;
        cursor: pointer;
        margin-left: 10px;
    }

    .accept-button {
        background-color: #4CAF50; /* Màu xanh lá */
    }

    .reject-button {
        background-color: #E57373; /* Màu đỏ nhạt */
    }

    .pagination {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

        .pagination button {
            padding: 5px 10px;
            border: 1px solid #ddd;
            background-color: #ffffff;
            cursor: pointer;
            border-radius: 4px;
        }

            .pagination button.active {
                background-color: #2d5c89;
                color: #ffffff;
            }
    .overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        background-color: rgba(0, 0, 0, 0.5); /* Màu nền bán trong suốt */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 999; /* Đảm bảo lớp phủ nằm trên tất cả các phần tử khác */
        visibility: hidden
    }

    .blind-container-1 {
        width: 70%;
        background: #ffffff;
        padding: 20px;
        border-radius: 8px;
        position: relative;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        z-index: 1000; /* Đảm bảo hộp container nằm trên overlay */
    }

    h2 {
        text-align: center;
        color: #333;
        margin-bottom: 10px;
        padding: 10px 50px 10px 50px;
    }

    .close-button {
        position: absolute;
        top: 20px;
        right: 20px;
        font-size: 20px;
        cursor: pointer;
        color: #666;
    }

    .member-section {
        display: flex;
        gap: 20px;
    }

    .panel {
        flex: 1;
        border: 1px solid #e0e0e0;
        border-radius: 8px;
        padding: 15px;
        background: #fafafa;
    }

        .panel h3 {
            color: #2d5c89;
            text-align: center;
            margin-bottom: 10px;
        }

    .search-bar {
        display: flex;
        align-items: center;
        gap: 5px;
        margin-bottom: 15px;
    }

        .search-bar input[type="text"] {
            flex: 1;
            padding: 8px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }

        .search-bar button {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: #666;
        }

    .toggle-switch {
        position: relative;
        width: 40px;
        height: 20px;
    }

        .toggle-switch input {
            display: none;
        }

        .toggle-switch label {
            width: 100%;
            height: 100%;
            background-color: #ddd;
            border-radius: 10px;
            display: block;
            cursor: pointer;
            position: relative;
        }

            .toggle-switch label::after {
                content: "";
                width: 18px;
                height: 18px;
                background-color: #ffffff;
                border-radius: 50%;
                position: absolute;
                top: 1px;
                left: 1px;
                transition: 0.3s;
            }

        .toggle-switch input:checked + label::after {
            left: 20px;
        }

    .member-list {
        list-style: none;
        margin-bottom: 10px;
    }

        .member-list li {
            display: flex;
            align-items: center;
            padding: 10px;
            border-bottom: 1px solid #e0e0e0;
        }

    .avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        margin-right: 10px;
    }

    .avatar-green {
        background-color: #9bc47d;
    }

    .avatar-orange {
        background-color: #f5a623;
    }

    .avatar-blue {
        background-color: #4a90e2;
    }

    .avatar-yellow {
        background-color: #ffd700;
    }

    .info {
        flex: 1;
    }

        .info p {
            font-weight: bold;
            color: #333;
        }

    .role {
        font-size: 0.9em;
        color: #4a90e2;
    }

        .role.project-manager {
            color: #e74c3c;
        }

    .add-button {
        font-size: 18px;
        background: none;
        border: none;
        cursor: pointer;
        color: #2d5c89;
    }

    .pagination {
        display: flex;
        justify-content: center;
        gap: 5px;
    }

        .pagination button {
            padding: 5px 10px;
            border: 1px solid #ddd;
            background-color: #ffffff;
            cursor: pointer;
        }

            .pagination button.active {
                background-color: #2d5c89;
                color: #ffffff;
            }
</style>

<script>
    // Khi nhấn vào nút Request, hiển thị overlay
    document.getElementById('request-button').addEventListener('click', function () {
        var overlay = document.getElementById('overlay-2');
        overlay.style.visibility = 'visible'; // Hiển thị overlay
    });

    document.getElementById('addmember').addEventListener('click', function () {
        var overlay = document.getElementById('overlay');
        overlay.style.visibility = 'visible'; // Hiển thị overlay
    });
    document.querySelectorAll('.close-button').forEach(function (closeButton) {
        closeButton.addEventListener('click', function () {
            // Check if it's for the first or second overlay
            var overlay2 = document.getElementById('overlay-2');
            var overlay = document.getElementById('overlay');
            if (closeButton.closest('.container-blind-2')) {
                overlay2.style.visibility = 'hidden'; // Hide the second overlay
            } else if (closeButton.closest('.blind-container-1')) {
                overlay.style.visibility = 'hidden'; // Hide the first overlay
            }
        });
    });
   
</script>


